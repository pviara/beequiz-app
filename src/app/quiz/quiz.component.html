<div class="container">
    <div class="header">
        <app-header></app-header>
        <button (click)="exitQuiz()">
            <img
                draggable="false"
                src="../../../assets/images/exit.png"
            />
        </button>
    </div>
    <div class="content">
        <ng-container *ngIf="hasQuizBeenLoaded(); else quizIsLoading;">
            <ng-container *ngIf="quiz.isInProgress(); else quizIsFinished;">
                <h3>
                    {{ quiz.formatCurrentStepPaginator() }}
                </h3>
                <quiz-step
                    [answers]="quiz.getCurrentQuestionAnswers()"
                    [givenAnswerState]="givenAnswerState"
                    [questionLabel]="quiz.getCurrentQuestionLabel()"
                    (confirmedAnswer)="onConfirmedAnswer($event)"
                    (nextStepRequested)="onNextStepRequested()">
                </quiz-step>
            </ng-container>

            <ng-template #quizIsFinished>
                <quiz-results
                    [scoreEvaluation]="quiz.getScoreEvaluation()"
                    [scoreMessage]="quiz.formatScoreMessage()"
                    (exitQuizRequested)="onExistQuizRequested()">
                </quiz-results>
            </ng-template>
        </ng-container>
        
        <ng-template #quizIsLoading>
            <app-spinner></app-spinner>
        </ng-template>
    </div>
</div>